### Hystrix

#### 分布式系统面临的问题

服务雪崩

多个微服务之间调用的时候，假设微服务 A 调用微服务 B 和微服务 C 又调用其他的微服务，这就是所谓的"扇出"。
如果扇出的链路上某个微服务的调用相应时间过长或者不可用，对微服务 A 的调用就会占用越来越多的系统资源，进而引起系统崩溃。

对于高流量的应用来说，单一的后端依赖可能会导致所有服务器上的所有资源都在几秒钟内饱和。
这些应用程序还可能导致服务之间的延迟增加，备份队列，线程和其他系统资源紧张，导致整个系统发生更多的级联故障。
这些都表示需要对故障和延迟进行隔离和管理，以便单个依赖关系的失败，不能取消整个应用程序或系统，

通常发现一个模块下的某个实例失败后，这时候这个模块依然还会接收流量，然后这个有问题的模块还调用了其他的模块，这样就会发生级联故障，或者雪崩。

#### Hystrix 断路器

**Hystrix 是一个用于处理分布式系统的延迟和容错的开源库**。在分布式系统里，许多依赖不可避免地会调用失败，比如超过、异常等，
Hystrix 能保证在一个依赖出问题的情况下，**不会导致整体服务失败，避免级联故障，以提高分布式系统的弹性**。

"断路器"本身是一种开关装置，当某个服务单元发生故障之后，通过断路器的故障监控（类似熔断保险丝），**向调用方返回一个符合预期的、
可处理的备选相应（FallBack），而不是长时间的等待或者抛出调用方无法处理的异常**，这样就保证了服务调用方的线程不会被长时间
、不必要地占用，从而避免了故障在分布式系统中的蔓延，乃至雪崩。

#### 服务降级

不让客户端等待并立刻返回一个友好提示，fallback

哪些情况会触发降级：
程序运行异常、超时、服务熔断触发服务降级、线程池/信号量打满

#### 服务熔断

服务器处于高并发访问的状态，直接拒绝请求，调用服务降级的方法

服务降级 -> 服务熔断 -> 恢复调用链路

#### 服务限流

秒杀高并发等操作，请求有序进行

#### 接近实时的监控


#### 限流隔离


### Sentinel


